var D=Object.defineProperty,O=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var F=(a,r,l)=>r in a?D(a,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[r]=l,E=(a,r)=>{for(var l in r||(r={}))U.call(r,l)&&F(a,l,r[l]);if(L)for(var l of L(r))B.call(r,l)&&F(a,l,r[l]);return a},A=(a,r)=>O(a,$(r));import{j as S,r as i,a as N,L as g,u as j,B as H,S as M,R as p,b as T,c as _}from"./vendor.df1530b5.js";const z=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function l(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(s){if(s.ep)return;s.ep=!0;const n=l(s);fetch(s.href,n)}};z();const f="https://online-store-vwn.herokuapp.com/",e=S.exports.jsx,t=S.exports.jsxs,v=S.exports.Fragment;function J(){const[a,r]=i.exports.useState(null),[l,o]=i.exports.useState(""),[s,n]=i.exports.useState("");return t("div",{className:"container w-50 card p-4 mt-3",children:[e("h5",{className:"mb-4",children:"Create A Product"}),t("form",{onSubmit:d=>{const y=document.querySelector("#productForm");d.preventDefault(),N.post(f+"products/add-product",new FormData(y)).then(m=>{console.log(m.data),r(m.data)}).then(()=>{n("uploaded successfully!!"),o("")}).catch(m=>{console.error(m.toJSON()),r(null),n(""),o(m.response.data.error)})},id:"productForm",method:"post",encType:"multipart/form-data",children:[t("div",{className:"row",children:[e("div",{className:"col-12 mt-3",children:e("input",{required:!0,type:"text",name:"name",className:"form-control",placeholder:"Product name"})}),e("div",{className:"col-12 mt-3",children:e("input",{required:!0,type:"number",name:"qty",className:"form-control",placeholder:"quantity"})}),e("div",{className:"col-12 mt-3",children:e("input",{required:!0,type:"number",name:"price",className:"form-control",placeholder:"price"})}),e("div",{className:"col-12 mt-3",children:e("textarea",{required:!0,type:"text",name:"desc",className:"form-control",placeholder:"description",style:{height:"100px",resize:"none"}})})]}),t("div",{className:"row mt-3",children:[e("div",{children:e("input",{required:!0,className:"form-control",type:"file",name:"image",id:"productImage"})}),e("div",{className:"mt-4",children:e("button",{type:"submit",className:"btn btn-primary",children:"Add Product"})})]})]}),e("div",{className:"mt-5"}),s&&e("div",{className:"alert alert-success",role:"alert",children:s}),l&&e("div",{className:"alert alert-danger",role:"alert",children:l}),e("div",{className:"mt-5",children:a?t(v,{children:[t("h5",{children:["name:",a.result.name]}),t("h5",{children:["qty:",a.result.qty]}),t("h5",{children:["price:$",a.result.price]}),t("h5",{children:["dec:",a.result.desc]}),e("div",{style:{height:"200px"},children:e("img",{className:"img-fluid ",src:a.result.image,style:{height:"100%"}})})]}):"Upload A New Product"})]})}function K({name:a,qty:r,price:l,image:o,desc:s,productID:n}){return e("div",{className:"col-sm-6 col-md-4 col-lg-3 mb-3",children:t("div",{className:"card p-3",children:[e("img",{className:"card-img-top img-fluid",src:o,alt:"Card image cap",style:{height:"200px",objectFit:"contain"}}),t("div",{className:"card-body",children:[e("h5",{className:"card-title",children:a}),e("p",{className:"card-text",children:s})]}),t("ul",{className:"list-group list-group-flush",children:[t("li",{className:"list-group-item",children:["price/unit: $",l]}),t("li",{className:"list-group-item",children:["quantity: ",r," units"]})]}),e("button",{className:"btn btn-dark w-50 mt-2",children:e(g,{to:`product/${n}`,className:"text-white text-decoration-none",children:"View Product"})})]})})}function q(){return t("div",{className:"text-center d-flex align-items-center justify-content-center",style:{height:"50vh"},children:[e("div",{className:"spinner-grow text-primary",role:"status",children:e("span",{className:"sr-only",children:"Loading..."})}),e("div",{className:"spinner-grow text-secondary",role:"status",children:e("span",{className:"sr-only",children:"Loading..."})}),e("div",{className:"spinner-grow text-success",role:"status",children:e("span",{className:"sr-only",children:"Loading..."})}),e("div",{className:"spinner-grow text-danger",role:"status",children:e("span",{className:"sr-only",children:"Loading..."})}),e("div",{className:"spinner-grow text-warning",role:"status",children:e("span",{className:"sr-only",children:"Loading..."})}),e("div",{className:"spinner-grow text-info",role:"status",children:e("span",{className:"sr-only",children:"Loading..."})}),e("div",{className:"spinner-grow text-light",role:"status",children:e("span",{className:"sr-only",children:"Loading..."})})]})}function V(){const[a,r]=i.exports.useState([]),[l,o]=i.exports.useState(""),[s,n]=i.exports.useState(!1);return i.exports.useEffect(()=>{n(!0),N.get(f+"products/all-products").then(c=>{n(!1),console.log(c.data.result),r(c.data.result)}).catch(c=>{n(!1),console.log(c),console.log(c.message),o(c.message)})},[]),l?e(v,{children:t("div",{className:"alert alert-danger",role:"alert",children:[e("p",{children:"Error while fetching products"}),e("p",{children:l})]})}):s?e(q,{}):t("div",{className:"p-2",children:[e("h1",{className:"mb-4",children:"All Products"}),e("div",{className:"row",children:a.length!==0?a.map((c,d)=>e(K,{name:c.name,price:c.price,qty:c.qty,image:c.image,desc:c.desc,productID:c._id},d)):e("div",{children:e("h6",{children:"No Products...."})})})]})}function G(){return e("div",{children:e("h1",{className:"mt-5",children:"Home Home..."})})}var Q="/assets/store-logo.80ebce89.gif";function W(){return e("div",{children:e("nav",{className:"navbar navbar-expand-md navbar-light bg-dark p-0",children:t("div",{className:"container",children:[e(g,{className:"navbar-brand p-0",to:"/",children:e("img",{src:Q,alt:"logo",className:"w-50"})}),e("button",{className:"navbar-toggler bg-light",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:e("span",{className:"navbar-toggler-icon"})}),e("div",{className:"collapse navbar-collapse",id:"navbarNav",children:t("ul",{className:"navbar-nav",children:[e("li",{className:"nav-item",children:e(g,{className:"nav-link text-white fs-4",to:"/add-product",children:"Add Product"})}),e("li",{className:"nav-item",children:e(g,{className:"nav-link text-white fs-4",to:"/all-products",children:"All Products"})})]})})]})})})}function X(){const a=j(),[r,l]=i.exports.useState({}),[o,s]=i.exports.useState(""),[n,c]=i.exports.useState(!1);return i.exports.useEffect(()=>{c(!0),N.get(f+"products/"+a.id).then(d=>{c(!1),l(d.data.result)}).catch(d=>{c(!1),console.log(d.message),s(d.message)})},[]),o?e(v,{children:t("div",{className:"alert alert-danger",role:"alert",children:[e("p",{children:"Error while fetching product"}),e("p",{children:o})]})}):n?e(q,{}):e("div",{className:"col-sm-6 col-md-4 col-lg-3 mb-3 mt-4 w-100",children:t("div",{className:"card p-3 w-50 mx-auto",children:[e("img",{className:"card-img-top img-fluid",src:r.image,alt:"Card image cap",style:{height:"300px",objectFit:"contain"}}),t("div",{className:"card-body text-center",children:[e("h5",{className:"card-title",children:r.name}),e("p",{className:"card-text",children:r.desc})]}),t("ul",{className:"list-group list-group-flush text-center",children:[t("li",{className:"list-group-item",children:["price/unit: $",r.price]}),t("li",{className:"list-group-item",children:["quantity:  ",r.qty," units"]})]}),e("button",{className:"btn btn-dark mt-3",children:e(g,{to:`/product/update/${r._id}`,className:"text-white text-decoration-none",children:"Update Product"})})]})})}function Y(){const[a,r]=i.exports.useState({name:"",qty:"",price:"",desc:"",image:""}),l=j(),[o,s]=i.exports.useState({}),[n,c]=i.exports.useState(""),[d,y]=i.exports.useState(""),[m,I]=i.exports.useState(""),[k,w]=i.exports.useState(!1),C=i.exports.useRef();if(i.exports.useEffect(()=>{w(!0),N.get(f+"products/"+l.id).then(u=>{w(!1),console.log(u.data.result),s(u.data.result),r(u.data.result)}).catch(u=>{w(!1),console.log(u.message),I(u.message)})},[]),m)return e(v,{children:t("div",{className:"alert alert-danger",role:"alert",children:[e("p",{children:"Error while fetching product"}),e("p",{children:m})]})});if(k)return e(q,{});const R=u=>{u.preventDefault();const P=document.querySelector("#productForm"),b=new FormData(P);b.append("id",o._id),N.post(f+"products/update-product",b).then(h=>{console.log(h),s(h.data.result),c(""),y("updated successfully!!")}).catch(h=>{console.error(h),y(""),c(h.response.data.error)})},x=u=>{const{name:P,value:b}=u.target;r(h=>A(E({},h),{[P]:b}))};return t("div",{className:"container m-auto p-2 mt-3 row align-items-center justify-content-between gx-4",children:[e("div",{className:"col-sm-6",children:o?t(v,{children:[t("h5",{children:[e("span",{className:"fs-6 text-secondary",children:"name: "}),o.name]}),t("h5",{children:[e("span",{className:"fs-6 text-secondary",children:"qty: "}),o.qty]}),t("h5",{children:[e("span",{className:"fs-6 text-secondary",children:"price: "}),"$",o.price]}),t("h5",{children:[e("span",{className:"fs-6 text-secondary",children:"dec: "}),o.desc]}),e("div",{className:"p-3",style:{height:"200px"},children:e("img",{className:"img-fluid ",src:o.image,style:{height:"100%"}})})]}):"No Product...."}),t("div",{className:"col-sm-6",children:[t("h5",{className:"mb-4",children:["Update ",a.name]}),t("form",{onSubmit:R,id:"productForm",method:"post",encType:"multipart/form-data",children:[t("div",{className:"row",children:[e("div",{className:"col-12 mt-3",children:e("input",{required:!0,type:"text",name:"name",className:"form-control",placeholder:"Product name",value:a.name,onChange:x})}),e("div",{className:"col-12 mt-3",children:e("input",{required:!0,type:"number",name:"qty",className:"form-control",placeholder:"quantity",value:a.qty,onChange:x})}),e("div",{className:"col-12 mt-3",children:e("input",{required:!0,type:"number",name:"price",className:"form-control",placeholder:"price",value:a.price,onChange:x})}),e("div",{className:"col-12 mt-3",children:e("textarea",{required:!0,type:"text",name:"desc",className:"form-control",placeholder:"description",style:{height:"100px",resize:"none"},value:a.desc,onChange:x})})]}),t("div",{className:"row mt-3",children:[e("div",{children:e("input",{ref:C,className:"form-control",type:"file",name:"image",id:"productImage"})}),e("div",{className:"mt-4",children:e("button",{type:"submit",className:"btn btn-primary",children:"Update Product"})})]})]}),e("div",{className:"mt-5"}),d&&e("div",{className:"alert alert-success",role:"alert",children:d}),m&&e("div",{className:"alert alert-danger",role:"alert",children:m})]})]})}function Z(){return i.exports.useEffect(()=>{console.log("app jsx mounted")},[]),e(H,{children:t("div",{children:[e(W,{}),t(M,{children:[e(p,{path:"/add-product",children:e(J,{})}),e(p,{path:"/all-products",children:e(V,{})}),e(p,{exact:!0,path:"/product/update/:id",children:e(Y,{})}),e(p,{exact:!0,path:"/product/:id",children:e(X,{})}),e(p,{path:"/",children:e(G,{})})]})]})})}T.render(e(_.StrictMode,{children:e(Z,{})}),document.getElementById("root"));
